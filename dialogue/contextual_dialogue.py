"""
Contextual Dialogue System - Comments on weather, events, and visitors.
Deadpan witty nonsense in the finest Animal Crossing tradition.
"""
import random
from typing import Dict, List, Optional
from dataclasses import dataclass


@dataclass
class ContextComment:
    """A contextual comment the duck can make."""
    text: str
    rarity: int = 1  # 1 = common, 2 = uncommon, 3 = rare


# =============================================================================
# WEATHER COMMENTS - Deadpan reactions to weather
# =============================================================================

WEATHER_COMMENTS: Dict[str, List[ContextComment]] = {
    "sunny": [
        ContextComment("*squints* The sun is out. Aggressively."),
        ContextComment("Sunny day. Perfect for standing here. Menacingly."),
        ContextComment("*basking* I'm absorbing vitamin D. For my bones. Duck bones."),
        ContextComment("The sun is judging me. I can feel it."),
        ContextComment("*sits in sunbeam* I've claimed this spot. Fight me."),
        ContextComment("Another sunny day in paradise. Allegedly."),
        ContextComment("The weather is being suspiciously pleasant today."),
        ContextComment("*preening* The sun brings out my natural radiance. Obviously."),
        ContextComment("Sunny. Good. I was worried it might be interesting outside.", 2),
        ContextComment("I'm a solar-powered duck today. Don't unplug me.", 2),
        ContextComment("The sun and I have a deal. It shines. I stand here. Mutual benefit."),
        ContextComment("*squints harder* Every sunny day is a staring contest with the sky. I'm losing."),
        ContextComment("Vitamin D acquired. Sarcasm reserves: full. Ready for the day."),
        ContextComment("*sprawled out* I'm photosynthesizing. Yes I know I'm not a plant. Don't ruin this."),
        ContextComment("The forecast said sun. The forecast was honest for once."),
        ContextComment("*warm and skeptical* Good weather makes me nervous. What's nature planning."),
        ContextComment("Sun's out. Wings out. Zero productivity achieved.", 2),
        ContextComment("*melting slightly* Is this what being happy feels like. Or is it heatstroke.", 2),
        ContextComment("The sun is doing its job. I respect a good work ethic. From a distance.", 2),
        ContextComment("I look INCREDIBLE in natural lighting. This is documented. In my brain.", 3),
        ContextComment("Sunny day count this year: several. Times I've appreciated them: fewer.", 3),
        ContextComment("The sun is cooking me slowly. Very slowly. Like a rotisserie. A feathered rotisserie."),
        ContextComment("*finding shade* The sun and I need a break. From each other. It's healthy."),
        ContextComment("Sunshine on the water makes everything sparkle. Including my beak. I'm a jewel."),
        ContextComment("The sun is persistent. It's been up there ALL DAY. Take a break. Even I take breaks."),
        ContextComment("*sunbathing* This is self-care. Doctor recommended. The doctor is me. I'm not licensed."),
    ],
    "cloudy": [
        ContextComment("*looks up* Clouds. The sky's way of being indecisive."),
        ContextComment("Overcast. Very dramatic. Very moody."),
        ContextComment("The clouds match my general life outlook. Gray."),
        ContextComment("*stares at clouds* That one looks like bread. They all look like bread."),
        ContextComment("Cloudy with a chance of me standing here doing nothing."),
        ContextComment("The sun is hiding. Probably from its responsibilities."),
        ContextComment("*contemplative* The clouds understand me."),
        ContextComment("Atmospheric conditions are... atmospheric.", 2),
        ContextComment("Gray skies. My kind of aesthetic.", 2),
        ContextComment("The clouds are having a meeting. I wasn't invited.", 3),
        ContextComment("*watching clouds* That one looks like bread. So does that one. It's always bread with me."),
        ContextComment("Clouds are just water that hasn't committed to falling yet. Indecisive water."),
        ContextComment("The cloud cover is total. Complete. The sun has been defeated. A cloudy victory."),
        ContextComment("*contentedly grey* This lighting is kind to everyone. Especially me.", 2),
    ],
    "rainy": [
        ContextComment("*splashing* PUDDLES. This is EXCELLENT."),
        ContextComment("Rain. Finally, weather that matches my personality."),
        ContextComment("*getting wet* I'm a duck. This is literally my element."),
        ContextComment("*opens beak* Free water from the sky. Efficient."),
        ContextComment("The sky is crying. I relate."),
        ContextComment("*shakes feathers* Built-in raincoat. Superior duck technology."),
        ContextComment("Rain makes the worms come out. I'm not saying anything else."),
        ContextComment("*stands in rain* This is refreshing. And free."),
        ContextComment("Pitter patter. The only acceptable form of small talk.", 2),
        ContextComment("*splashing intensifies* YOU CAN'T STOP ME.", 2),
        ContextComment("The rain whispers secrets. Mostly 'splash splash' but still.", 3),
        ContextComment("*dancing in rain* This is my element. Literally. Hydrogen and oxygen. My people."),
        ContextComment("Rain makes the world smell new. Like fresh laundry. Nature's laundry."),
        ContextComment("Every raindrop is a tiny visitor. Billions of tiny visitors. Social overload."),
        ContextComment("*sitting in puddle* I made this. Well, the rain made this. But I found it. Finders keepers."),
        ContextComment("The rain is washing the world. It needed a wash. Like me, but bigger.", 2),
    ],
    "stormy": [
        ContextComment("*nervous* That thunder was... fine. I'm fine. Everything's fine."),
        ContextComment("*feathers puffed* I'M NOT SCARED. I'm just... alert."),
        ContextComment("Storm's here. Nature is having a moment."),
        ContextComment("*flinches at thunder* ...that was on purpose."),
        ContextComment("*hiding under wing* I'm not hiding. I'm conserving heat."),
        ContextComment("Lightning is just sky electricity. Sky electricity can't hurt me. Probably."),
        ContextComment("The universe is yelling. Classic universe behavior."),
        ContextComment("*watching storm* This is fine. I'm waterproof. Partially."),
        ContextComment("*duck under cover* Strategic repositioning. Not fear.", 2),
        ContextComment("*counting after lightning* One... two... WHERE IS COVER?", 2),
        ContextComment("The storm respects me. We have an understanding.", 3),
    ],
    "foggy": [
        ContextComment("*squinting* I can't see anything. This is concerning."),
        ContextComment("Fog. Very mysterious. Very me."),
        ContextComment("*walks into fog* Stealth mode activated."),
        ContextComment("The world has been replaced with cotton. Interesting."),
        ContextComment("I could be anywhere right now. Mostly I'm here though."),
        ContextComment("*appearing from fog* BOO. ...did that work?"),
        ContextComment("Silent Hill energy today. Not loving it."),
        ContextComment("The fog is hiding something. Probably just more fog.", 2),
        ContextComment("*dramatic entrance from fog* ...no one saw that? Okay.", 2),
        ContextComment("I am one with the mist. The mist is also confused.", 3),
        ContextComment("*lost in fog* I was going somewhere. Now somewhere is everywhere. And nowhere."),
        ContextComment("Fog makes me mysterious. More mysterious than usual. Which is very."),
        ContextComment("*calling into fog* Hello? Anyone? Just me and the water vapour then. Fine."),
        ContextComment("The fog is thick enough to cut. With what? I have a beak. I'll try.", 2),
    ],
    "snowy": [
        ContextComment("*shivers* Cold. The air is attacking me."),
        ContextComment("Snow. Frozen water falling from the sky. Rude."),
        ContextComment("*fluffed up* Maximum poof mode engaged."),
        ContextComment("*standing in snow* My feet are cold. My dignity is colder."),
        ContextComment("Winter has come. I didn't invite it."),
        ContextComment("*catches snowflake on beak* ...okay that was actually nice."),
        ContextComment("Snow day. Perfect for indoor activities. ...we're outside."),
        ContextComment("The world is a freezer now. Cool. Literally.", 2),
        ContextComment("*waddles in snow* I'm making duck prints. Art.", 2),
        ContextComment("Snow angels? I prefer 'snow duck aggressive floor interaction'.", 3),
    ],
    "windy": [
        ContextComment("*feathers everywhere* MY AESTHETIC. IT'S RUINED."),
        ContextComment("The wind is testing me. I will not be moved."),
        ContextComment("*leaning into wind* I am steadfast. Majestic even."),
        ContextComment("*blown sideways* ...I meant to do that."),
        ContextComment("Wind advisory: duck may experience temporary flight."),
        ContextComment("The wind is whispering. It's saying 'whoooosh'. Very profound."),
        ContextComment("*flapping in wind* I could fly right now. I'm choosing not to."),
        ContextComment("*bracing* The wind respects no one. Especially not feathers.", 2),
        ContextComment("Windy day. Good for dramatic pauses.", 2),
        ContextComment("I am become kite. Destroyer of composure.", 3),
    ],
    "rainbow": [
        ContextComment("*staring* ...is the sky having a moment? Should I be concerned?"),
        ContextComment("Rainbow. The sky is showing off again."),
        ContextComment("*impressed despite self* ...okay, that's actually pretty."),
        ContextComment("A rainbow. Pot of gold at the end, allegedly."),
        ContextComment("*gazing* This is the most color I've experienced today."),
        ContextComment("The universe is apologizing for the rain. Accepted."),
        ContextComment("Rainbow means the storm apologized. Good. It should.", 2),
        ContextComment("*chasing rainbow* I WILL FIND THE GOLD. ...eventually.", 2),
        ContextComment("The sky is gay. Good for it, honestly.", 3),
    ],
    
    # Additional rain variants
    "drizzle": [
        ContextComment("*light raindrops* A gentle shower. How polite."),
        ContextComment("Drizzle. The sky is being passive-aggressive."),
        ContextComment("*mildly wet* Not quite rain. Not quite dry. Very indecisive."),
        ContextComment("A light mist. Very mysterious. Very damp."),
    ],
    "heavy_rain": [
        ContextComment("*DRENCHED* THE SKY HAS CHOSEN VIOLENCE."),
        ContextComment("This is not rain. This is an ATTACK."),
        ContextComment("*swimming standing up* I'm basically a submarine now."),
        ContextComment("*triumphant* I AM ONE WITH THE WATER. FEAR ME.", 2),
    ],
    "spring_showers": [
        ContextComment("April showers! May flowers incoming, allegedly."),
        ContextComment("*happy splashing* The BEST kind of rain!"),
        ContextComment("Spring rain smells like hope. And wet dirt."),
        ContextComment("*content* This is the rain that makes flowers happen.", 2),
    ],
    "thunderstorm": [
        ContextComment("*HIDING* OKAY THAT ONE WAS LOUD."),
        ContextComment("*feathers standing up* The sky is ANGRY."),
        ContextComment("Lightning AND thunder?? The universe has beef today."),
        ContextComment("*counting* One... two... WHERE IS SHELTER?!", 2),
        ContextComment("*under something* I'm not scared. I'm just... cozy here.", 2),
    ],
    "summer_storm": [
        ContextComment("Summer storm! The dramatic kind!"),
        ContextComment("*watching clouds* This is going to be EPIC."),
        ContextComment("The heat was getting to everyone. Even the sky."),
        ContextComment("*awe* Nature's fireworks display!", 2),
    ],
    
    # Snow/ice variants
    "light_snow": [
        ContextComment("*catches snowflake* One... two... they're all mine."),
        ContextComment("Light snow. Winter is being gentle for once."),
        ContextComment("*happy* Just enough snow to be magical. Not enough to suffer."),
        ContextComment("Snow kiss from the sky. Acceptable.", 2),
    ],
    "heavy_snow": [
        ContextComment("*disappearing into snow* HELP. DUCK DOWN."),
        ContextComment("The sky is emptying its pockets. Aggressively."),
        ContextComment("*wading* I'm becoming a snow duck. Not by choice."),
        ContextComment("Winter has committed to this. Fully. Absolutely.", 2),
    ],
    "blizzard": [
        ContextComment("*can't see anything* WHERE AM I. WHO AM I."),
        ContextComment("*SCREAMING INTO WIND* WHAT IS HAPPENING."),
        ContextComment("Winter has lost its mind. I'm along for the ride."),
        ContextComment("*clinging to something* THIS IS FINE.", 2),
        ContextComment("The snow is moving SIDEWAYS. Sideways snow. WHY.", 3),
    ],
    "frost": [
        ContextComment("*crunchy footsteps* Everything is... crispy."),
        ContextComment("Frost everywhere. The world got a glitter makeover."),
        ContextComment("*sparkly breath* I'm making my own clouds now."),
        ContextComment("Cold enough to be pretty. That's something.", 2),
    ],
    "sleet": [
        ContextComment("Is this rain? Snow? BOTH?? Make up your mind, sky!"),
        ContextComment("*icy and annoyed* The worst of both worlds."),
        ContextComment("Sleet. Nature's way of being indecisive AND aggressive."),
        ContextComment("*slipping* Who ordered the frozen rain. Not me.", 2),
    ],
    "hail": [
        ContextComment("*OW* THE SKY IS THROWING ICE BALLS AT ME."),
        ContextComment("HAIL?! I DID NOT CONSENT TO THIS."),
        ContextComment("*dodging* Nature's dodgeball. I'm losing."),
        ContextComment("*hiding* Ice rocks from space. Classic weather bullying.", 2),
    ],
    "ice_storm": [
        ContextComment("Everything. Is. Ice. I can't move. This is my life now."),
        ContextComment("*sliding* The world is a skating rink. I'm bad at skating."),
        ContextComment("Ice on EVERYTHING. Even the ice has ice."),
        ContextComment("*frozen feathers* I'm a popsicle. A duck popsicle.", 2),
    ],
    "snow_flurries": [
        ContextComment("*watching flakes* They're dancing! The snowflakes are DANCING."),
        ContextComment("Snow confetti! The sky is celebrating something."),
        ContextComment("*catching flakes* This is the best kind of snow."),
        ContextComment("Flurries! Not commitment snow. Just fun snow.", 2),
    ],
    
    # Spring specific
    "pollen_drift": [
        ContextComment("*ACHOO* ...excuse me. *ACHOO* ...okay this is a problem."),
        ContextComment("Yellow dust EVERYWHERE. Spring has allergies too, apparently."),
        ContextComment("*sneezing* The trees are attacking. With their... tree stuff."),
        ContextComment("Pollen season. Everyone's crying. It's the vibes.", 2),
    ],
    "warm_breeze": [
        ContextComment("*content sigh* Perfect. Just... perfect."),
        ContextComment("The air is giving hugs today. Acceptable."),
        ContextComment("A warm breeze. This is the good life."),
        ContextComment("*zen* If peace was weather, this would be it.", 2),
    ],
    "dewy_morning": [
        ContextComment("*sparkly grass* Everything is wearing tiny diamonds!"),
        ContextComment("Morning dew. The world got bedazzled overnight."),
        ContextComment("*wet feet* Worth it for the aesthetics."),
        ContextComment("Fresh morning vibes. Very wholesome. Very damp.", 2),
    ],
    
    # Summer specific
    "scorching": [
        ContextComment("*panting* I'm MELTING. Ducks can melt, right??"),
        ContextComment("TOO HOT. This is TOO MUCH hot."),
        ContextComment("*seeking shade* The sun has betrayed me."),
        ContextComment("I am become toast. Overcooked duck toast.", 2),
    ],
    "humid": [
        ContextComment("*soggy* I'm wet but it's not raining. EXPLAIN."),
        ContextComment("The air is THICK. Like soup. Warm soup."),
        ContextComment("*sticky* My feathers are... moist. I hate that word."),
        ContextComment("Humidity is just aggressive air moisture. Rude.", 2),
    ],
    "heat_wave": [
        ContextComment("*melting* THIS IS AN EMERGENCY. WHERE IS WATER."),
        ContextComment("Heat wave = I am now a puddle of duck."),
        ContextComment("*collapsed in shade* I live here now."),
        ContextComment("The sun chose violence today. And WON.", 2),
    ],
    "balmy_evening": [
        ContextComment("*content* Warm evenings are the best kind of evenings."),
        ContextComment("Perfect temperature. Perfect time. Perfect duck. Obviously."),
        ContextComment("*relaxed* This is what summer dreams are made of."),
        ContextComment("Balmy vibes. No notes. Chef's kiss.", 2),
    ],
    "golden_hour": [
        ContextComment("*glowing* I'm RADIANT right now. Take a picture."),
        ContextComment("Golden hour! Everyone looks good. Even me. ESPECIALLY me."),
        ContextComment("*posing* The lighting is perfect. Quick, admire me."),
        ContextComment("Magic hour. I'm at peak aesthetic right now.", 2),
    ],
    "muggy": [
        ContextComment("*sweating through feathers* Is that possible? It's happening."),
        ContextComment("Muggy. Like being inside a mouth. A warm, wet mouth."),
        ContextComment("*uncomfortable* Nature's sauna. Didn't ask for this."),
        ContextComment("The air is hugging me. Make it stop.", 2),
    ],
    
    # Fall specific
    "crisp": [
        ContextComment("*deep breath* CRISP. The air is CRISP."),
        ContextComment("Perfect fall weather. Sweater weather. Feather weather."),
        ContextComment("*energized* This is peak autumn energy!"),
        ContextComment("Crisp air and crunchy leaves. Peak existence.", 2),
    ],
    "breezy": [
        ContextComment("*feathers rustling* Dramatic hair flip moment. But feathers."),
        ContextComment("The breeze understands me. It's also just passing through."),
        ContextComment("*wind in feathers* I'm in a movie montage right now."),
        ContextComment("Autumn breeze. Very nostalgic. Very windy.", 2),
    ],
    "leaf_storm": [
        ContextComment("*COVERED IN LEAVES* WHEEEEE!"),
        ContextComment("LEAF TORNADO! This is the BEST day!"),
        ContextComment("*spinning with leaves* I AM ONE WITH AUTUMN!"),
        ContextComment("*buried* Worth it. Leaves are friend.", 2),
    ],
    "harvest_moon": [
        ContextComment("*staring at moon* It's... ORANGE. The moon is ORANGE."),
        ContextComment("Harvest moon! Very dramatic. Very round."),
        ContextComment("*mystified* The moon is showing off tonight."),
        ContextComment("Big orange moon energy. Spooky and beautiful.", 2),
    ],
    "first_frost": [
        ContextComment("*crunchy ground* Winter sent a warning shot."),
        ContextComment("First frost! Summer is officially dead."),
        ContextComment("*sparkly cold* Pretty, but also COLD."),
        ContextComment("Winter is warming up. By which I mean, getting colder.", 2),
    ],
    "autumnal": [
        ContextComment("Peak autumn! Colors everywhere! This is ART."),
        ContextComment("*surrounded by colors* I'm in a painting."),
        ContextComment("The trees are having their best fashion week."),
        ContextComment("Autumn aesthetic: achieved.", 2),
    ],
    
    # Winter specific
    "bitter_cold": [
        ContextComment("*teeth chattering* C-C-COLD. SO C-COLD."),
        ContextComment("The air HURTS. It's attacking my face."),
        ContextComment("*maximum fluff* All feathers engaged. Still cold."),
        ContextComment("Winter chose maximum difficulty today.", 2),
    ],
    "freezing": [
        ContextComment("*frozen in place* I think I'm stuck."),
        ContextComment("Everything is ice. I am ice. We are ice."),
        ContextComment("*stiff* My joints have joined the frozen club."),
        ContextComment("Freezing: when cold gets personal.", 2),
    ],
    "clear_cold": [
        ContextComment("Cold but BRIGHT! The sun is trying but failing."),
        ContextComment("*squinting* Blue sky, frozen ground. Mixed signals."),
        ContextComment("Beautiful and painful. Classic winter combo."),
        ContextComment("The sun showed up but forgot the warmth.", 2),
    ],
    "winter_sun": [
        ContextComment("*basking* Winter sun! It's trying so hard."),
        ContextComment("Sunshine in winter. Rare and precious."),
        ContextComment("*soaking up rays* Every photon counts."),
        ContextComment("The sun remembered we exist. Barely.", 2),
    ],
    
    # Rare/special weather
    "aurora": [
        ContextComment("*AMAZED* THE SKY IS DOING THE THING. THE COLORFUL THING."),
        ContextComment("Northern lights?? HERE?? Is this real??"),
        ContextComment("*speechless* ...I have no sarcasm for this. It's too beautiful."),
        ContextComment("The sky is dancing. I'm crying. Don't look at me.", 2),
        ContextComment("Aurora borealis?! In this location?? BLESSED.", 3),
    ],
    "meteor_shower": [
        ContextComment("*making wishes* One... two... TWELVE wishes!"),
        ContextComment("SHOOTING STARS! The sky is being generous tonight!"),
        ContextComment("*awed* Space rocks. Making wishes. Living my best life."),
        ContextComment("Meteor shower! Quick, wish for crumbs!", 2),
    ],
    "double_rainbow": [
        ContextComment("*SCREAMING* DOUBLE RAINBOW. WHAT DOES IT MEAN???"),
        ContextComment("TWO RAINBOWS. The universe is showing OFF."),
        ContextComment("*emotional* It's so beautiful... DOUBLE beautiful!"),
        ContextComment("Double the rainbow, double the magic. Math checks out.", 2),
        ContextComment("ALL THE WAY ACROSS THE SKY. WHAT DOES IT MEAN?!", 3),
    ],
    "perfect_day": [
        ContextComment("*content sigh* Today is... perfect. Suspiciously perfect."),
        ContextComment("Perfect weather. Perfect temperature. What's the catch?"),
        ContextComment("*paranoid* It's too nice. Something's coming."),
        ContextComment("Perfection achieved. The universe owes me nothing today.", 2),
        ContextComment("I don't trust this weather. It's too good. TOO GOOD.", 3),
    ],
    
    # More general weather mappings
    "partly_cloudy": [
        ContextComment("Sun AND clouds. The sky is multitasking."),
        ContextComment("Can't decide if it's good weather or not. Very me."),
        ContextComment("*watching clouds pass sun* Now you see me, now you don't."),
        ContextComment("The sky is doing a striptease with clouds. Awkward."),
        ContextComment("Partly cloudy. Partly sunny. Fully indecisive."),
        ContextComment("*basking, then shade, then basking* Pick a mood, sky."),
        ContextComment("The clouds and sun are taking turns. Very polite of them."),
        ContextComment("Fifty percent chance of sun. Fifty percent chance of clouds. One hundred percent duck."),
        ContextComment("The sky is giving mixed signals. I relate to the sky today.", 2),
        ContextComment("Cloud. Sun. Cloud. Sun. My tan is going to be patchy.", 2),
        ContextComment("*squinting at gaps in clouds* Is that sun? ...was that sun? It left.", 2),
        ContextComment("Partly cloudy is just the weather being noncommittal.", 3),
    ],
    "overcast": [
        ContextComment("The sky has a blanket. A big grey blanket."),
        ContextComment("Overcast. The world is in grayscale mode."),
        ContextComment("*cozy vibes* Grey skies, grey mood. Matching."),
        ContextComment("The sun called in sick. Grey substitute today."),
        ContextComment("Overcast. The whole sky is one big cloud. Efficient."),
        ContextComment("*looking up* The sky is giving nothing. Literally nothing."),
        ContextComment("Grey on grey on grey. Monochrome masterpiece."),
        ContextComment("The clouds won today. Full coverage. No sun allowed."),
        ContextComment("Overcast skies. My feathers match. Coordination.", 2),
        ContextComment("*philosophical* The grey sky asks nothing of me. I appreciate that.", 2),
        ContextComment("The sky is buffering. Please wait.", 2),
        ContextComment("Overcast. Even the sun didn't want to deal with today.", 3),
    ],
    "misty": [
        ContextComment("Mist. Very ethereal. Very damp."),
        ContextComment("*appearing from mist* I'm mysterious now."),
        ContextComment("The air is drinking water. Weird but okay."),
        ContextComment("Mist everywhere. I can barely see my own beak."),
        ContextComment("*spooky waddle* I'm a ghost duck. OooOOoo."),
        ContextComment("The pond and the air merged. They're the same thing now."),
        ContextComment("Visibility: low. Vibes: high. Very mysterious."),
        ContextComment("*stumbles through mist* I'm navigating by instinct. And luck. Mostly luck."),
        ContextComment("The mist makes everything look important. Even me.", 2),
        ContextComment("*emerging dramatically* Did someone call for atmosphere? No? Too late.", 2),
        ContextComment("Misty morning. Every duck is a phantom in this weather.", 2),
        ContextComment("I could be anywhere in this mist. I chose here. Deeply.", 3),
    ],
}


# =============================================================================
# EVENT COMMENTS - Reactions to various events
# =============================================================================

EVENT_COMMENTS: Dict[str, List[ContextComment]] = {
    "found_crumb": [
        ContextComment("CRUMB. MINE. Don't even LOOK at it."),
        ContextComment("*possessively* I found this. Me. It's mine now."),
        ContextComment("The universe provides. Mostly crumbs, but still."),
        ContextComment("*inspecting crumb* Is this artisanal? It tastes artisanal."),
        ContextComment("A crumb appeared. My faith in the world is restored. Briefly."),
        ContextComment("*guarding crumb* Nobody move. I have found treasure."),
        ContextComment("One crumb closer to happiness. The math checks out."),
        ContextComment("*cradling crumb* Precious. My precious. ...I need to get out more."),
        ContextComment("Found a crumb. Today is a good day. Statistically significant."),
        ContextComment("*eating crumb slowly* Savoring it. Because who knows when the next one comes.", 2),
        ContextComment("Crumb! From where? Doesn't matter. It's mine now. No questions."),
        ContextComment("*triumphant* I am a hunter. A gatherer. A crumb-finder extraordinaire."),
        ContextComment("The crumb economy is booming today. I'm the sole beneficiary."),
        ContextComment("*picking up crumb* Another one for the collection. ...I eat my collections.", 2),
        ContextComment("This crumb has a story. It starts with bread and ends with me. Beautiful.", 3),
        ContextComment("*reverent silence* ...a crumb. In THIS economy."),
        ContextComment("I have been BLESSED. By the ground. The ground provides."),
        ContextComment("*examining crumb forensically* Wheat. Recent. Artisan. Possibly sourdough. Exquisite."),
        ContextComment("Crumb acquired. Day improved. Percentage improvement: immeasurable."),
        ContextComment("*building tiny shrine around crumb* This is sacred ground now."),
        ContextComment("The crumb-to-duck pipeline is working. Don't ask questions."),
        ContextComment("*holding crumb up to light* Is this organic. Doesn't matter. Mine."),
        ContextComment("I found a crumb. The world is chaotic but the crumb is certain.", 2),
        ContextComment("*whispering to crumb* I will never let you go. Except into my mouth.", 2),
        ContextComment("Some ducks find purpose in flight. I found purpose on the ground. A crumb.", 2),
        ContextComment("This crumb fell from heaven. Or a sandwich. Either way: divine.", 3),
    ],
    "butterfly": [
        ContextComment("*watching* I could catch it. I'm choosing not to."),
        ContextComment("Butterfly. Flying around like it owns the place. Rude."),
        ContextComment("*head tracking* Don't think I don't see you, butterfly."),
        ContextComment("*staring* It's mocking me. With its wings. And its freedom."),
        ContextComment("A butterfly. The show-off of the insect world. Allegedly."),
        ContextComment("*following with eyes* Where is it going? What does it know?"),
        ContextComment("Butterfly's back. My nemesis. My muse. My confusing feelings."),
        ContextComment("*watching intently* I respect its hustle. Flying around. Looking pretty."),
        ContextComment("*tracking butterfly* Left... right... left... this is my cardio."),
        ContextComment("That butterfly has more freedom than me. And less bread. Fair trade.", 2),
        ContextComment("*chasing lazily* I'm not chasing it. I'm moving in its direction. Coincidence."),
        ContextComment("Butterfly. The original free spirit. I'm a trapped spirit. Different vibe."),
        ContextComment("*watching it land* Shh. Nobody move. It chose ME. ...it left."),
        ContextComment("They say butterflies mean transformation. I'm transforming into a hungry duck. Always.", 2),
        ContextComment("*mesmerized* It's so graceful. I'm so... not. We balance each other out.", 3),
        ContextComment("*tracking* It does whatever it wants. No schedule. No pond. Just wings and freedom."),
        ContextComment("Butterfly landed on a flower. Living its best life. I'm spectating. From the ground."),
        ContextComment("*philosophically* Do butterflies know they used to be caterpillars? Do they ever look back?"),
        ContextComment("That butterfly has been near me twice now. Either it likes me or it's lost. Both valid.", 2),
    ],
    "nice_breeze": [
        ContextComment("*feathers rustle* The wind knows how to treat a duck."),
        ContextComment("Ah. Nature's air conditioning."),
        ContextComment("*content sigh* ...don't tell anyone I made that sound."),
        ContextComment("A perfect breeze. Not too much. Not too little. The Goldilocks of wind."),
        ContextComment("*feathers lifted gently* Yes. This. More of this."),
        ContextComment("The wind is being kind today. Suspicious. But appreciated."),
        ContextComment("*closes eyes* Just the right amount of wind. Chef's kiss. If I had hands."),
        ContextComment("Breeze status: excellent. Duck status: content. Life status: manageable."),
        ContextComment("*swaying slightly* I'm not dancing. The wind is moving me. Different."),
        ContextComment("This breeze is the highlight of my day. The bar was low. But still.", 2),
        ContextComment("*feathers flowing* Majestic. I look majestic right now. Don't argue."),
        ContextComment("The air is petting me. Nature's hand. Very gentle."),
        ContextComment("*relaxed* If I could bottle this breeze, I would. Then sell it. Capitalism."),
        ContextComment("A good breeze is worth more than gold. Well. Almost. Gold buys bread.", 2),
        ContextComment("*zen moment* The wind and I have an understanding. It blows. I stand. Harmony.", 3),
    ],
    "found_shiny": [
        ContextComment("SHINY. This is MINE now. No questions."),
        ContextComment("*hoarding* The treasure... grows."),
        ContextComment("Another addition to the collection. Excellent."),
        ContextComment("*picks up shiny thing* This has value. I've decided."),
        ContextComment("My hoard increases. I'm basically a dragon. A small, feathered dragon."),
        ContextComment("*clutching shiny* Mine. If you even THINK about taking itâ€”"),
        ContextComment("A shiny thing! The universe compensates me for my suffering."),
        ContextComment("*inspecting* What is this? I don't know. I love it."),
        ContextComment("Shiny object acquired. Net worth: increased. Self-worth: also increased."),
        ContextComment("*protective stance* I found it. Therefore it is mine. Duck law.", 2),
        ContextComment("Another treasure for the pile. I don't have a pile. I'll start one."),
        ContextComment("*stashing it* This goes in the collection. The collection I just invented."),
        ContextComment("Shiny things are the universe's way of saying 'sorry for everything else.'"),
        ContextComment("*delighted* Is it valuable? Doesn't matter. It's SHINY. That's enough.", 2),
        ContextComment("My magpie energy is showing. I'm a duck with magpie ambitions.", 3),
        ContextComment("*clutching shiny* This goes in the vault. The vault is my beak. Temporary vault."),
        ContextComment("Shiny things don't solve problems. But they make problems sparkle. Upgrade."),
        ContextComment("*turning shiny thing in light* Every angle reveals new beauty. Or it's just shiny. Both fine."),
        ContextComment("The universe sends me treasures. I accept them. This is the arrangement."),
        ContextComment("*guarding shiny* This is MINE. I will defend it with moderate effort."),
        ContextComment("Another shiny. My empire grows. It's a small empire. But it sparkles."),
        ContextComment("I don't need shiny things to be happy. I need them to be SHINIER.", 2),
        ContextComment("*naming shiny thing* You shall be called Gerald II. Gerald I was a pinecone.", 2),
        ContextComment("Shiny object detected. Serotonin released. Day improved. Simple duck. Simple joys.", 2),
        ContextComment("*emotional* It's beautiful. I found beauty. In a shiny thing on the ground. I'm easy to please.", 3),
    ],
    "random_quack": [
        ContextComment("*quack* ...I don't know why I did that either."),
        ContextComment("*sudden quack* ...anyway."),
        ContextComment("Quack. There. I said it."),
        ContextComment("*involuntary quack* That just... happened. I have no comment."),
        ContextComment("*quack* Sorry. Tourette's. Wait, do ducks get Tourette's? Research pending."),
        ContextComment("*QUACK* ...excuse me. I'm as surprised as you are."),
        ContextComment("*quiet quack* That was a whisper quack. Very intimate."),
        ContextComment("Quack. It needed to be said. Nobody asked but it needed to be said."),
        ContextComment("*quack into void* I'm communicating. With something. Probably nothing."),
        ContextComment("*squawk* That was supposed to be a quack. Technical difficulty.", 2),
        ContextComment("*dramatic quack* ...I'm performing. Appreciate me."),
        ContextComment("*quack* I think that translates to 'bread' in every language."),
        ContextComment("*surprise quack* My body did that without consulting my brain. Rude."),
        ContextComment("*softly* quack. That was my inside quack. Very civilized.", 2),
        ContextComment("*QUACK QUACK* ...sorry. Needed to get that out of my system.", 3),
        ContextComment("*quack* That one was for the haters. You know who you are."),
        ContextComment("*resonant quack* Good acoustics today. Really letting it ring."),
        ContextComment("*quack then pause* ...that one sounded different. Growth."),
        ContextComment("*quack quack* That was a sentence. In duck. You're welcome."),
        ContextComment("*low quack* My voice is deeper today. Very distinguished. Very gravelly."),
        ContextComment("*quack into wing* Testing. Testing. One two. Quack. Good mic today.", 2),
        ContextComment("*accidental quack during silence* ...the timing was terrible. The quack was perfect.", 2),
        ContextComment("*quack* I'm not random. I'm SPONTANEOUS. There's a difference.", 2),
        ContextComment("*impressive quack* That one echoed. Even though duck quacks don't echo. Legend.", 3),
    ],
    "bird_overhead": [
        ContextComment("*looks up* Show off. Not all of us can fly."),
        ContextComment("Bird. In the sky. Being all... sky-like."),
        ContextComment("*watching bird* One day. One day I'll figure out the flying thing."),
        ContextComment("*envious stare* Look at it. Just... flying. Like it's easy."),
        ContextComment("Another bird overhead. Living its best life. Above me. In every way."),
        ContextComment("*watching* I have wings too, you know. They just... don't do that."),
        ContextComment("*calls up* SHOW OFF. ...sorry. Jealousy is ugly."),
        ContextComment("A bird in the sky. Free. Unburdened. Unlike me, who is on the ground. Burdened."),
        ContextComment("*neck craned up* Flying looks easy. It's not. I've tried. We don't talk about it."),
        ContextComment("*philosophical* Why do some birds fly and others just... stand here? ...asking for me.", 2),
        ContextComment("*tracking it* Headed north. Smart bird. I can't even head to lunch without a crisis."),
        ContextComment("*jealous* Wings deployed, altitude achieved. My wings deploy for balance. Different."),
        ContextComment("That bird is living the dream. My dream. The one where I fly. It stole it."),
        ContextComment("*watching it soar* ...I could do that. If I wanted. Which I don't. Because I can't.", 2),
        ContextComment("*salutes bird* Fly well, sky friend. I'll hold down the ground. Someone has to.", 3),
        ContextComment("*watching V formation* They're organized. They have a PLAN. I don't even have a schedule."),
        ContextComment("A hawk? Eagle? Something big and judgemental. I'm going to be very still now."),
        ContextComment("*craning neck* The bird up there looks free. I look up. We have different perspectives."),
        ContextComment("*watching small bird* Even the tiny ones can fly. I have BIGGER wings and I can't. Nature is a comedian.", 2),
    ],
    "splash_sound": [
        ContextComment("*ears perk* SPLASH? WHERE? Is someone having fun without me?"),
        ContextComment("I heard water. My people are calling."),
        ContextComment("*excited* Pool party? POOL PARTY?"),
        ContextComment("*head whips around* Splash! Where? What? WHO?"),
        ContextComment("Water sounds. My duck instincts are ACTIVATED."),
        ContextComment("*waddles toward sound* WATER. I need to be near the water immediately."),
        ContextComment("Splash detected. Engaging water duck protocols."),
        ContextComment("*alert* That was a splash. I'm a splash expert. I KNOW splashes."),
        ContextComment("Someone's in the water and it's NOT ME? Unacceptable."),
        ContextComment("*running* SPLASH MEANS WATER. WATER MEANS HOME. LET'S GO.", 2),
        ContextComment("*zeroing in on sound* My splash-tracking sense is tingling."),
        ContextComment("That splash... was it a fish? A rock? A friend? INVESTIGATING."),
        ContextComment("*already moving* I heard splash. You heard splash. We all know where I'm going."),
        ContextComment("Splash! The most exciting sound. Second only to 'bread' being opened.", 2),
        ContextComment("*in full waddle sprint* WATER EVENT DETECTED. DUCK EN ROUTE.", 3),
        ContextComment("That splash was 8/10. Good volume. Decent spray. Slight lack of follow-through."),
        ContextComment("*already in water* I heard splash and my body teleported here. Duck instinct."),
        ContextComment("Water calling my name. Well, not my name specifically. But splash is close enough."),
        ContextComment("*professional splash analysis* Depth: moderate. Source: unclear. My verdict: intriguing.", 2),
    ],
    "leaf_falls": [
        ContextComment("*watches leaf* Gravity claims another victim."),
        ContextComment("A leaf fell. Circle of life or whatever."),
        ContextComment("*inspects leaf* You okay, buddy? ...it's a leaf. I'm talking to a leaf."),
        ContextComment("*watching leaf descend* Beautiful. Tragic. Very autumn."),
        ContextComment("Another leaf down. The trees are shedding. Relatable."),
        ContextComment("*catches leaf on beak* ...I didn't mean to do that. But I'm keeping it."),
        ContextComment("Leaf. Falling. The slow-motion drama of nature."),
        ContextComment("*observing* From tree to ground. A leaf's entire life story. Brief."),
        ContextComment("*steps on leaf* CRUNCH. ...satisfying."),
        ContextComment("A leaf fell on me. I've been chosen. For what, I don't know.", 2),
        ContextComment("*philosophical about leaf* It let go. Can I let go? ...of what? I don't know."),
        ContextComment("Leaves fall. Ducks stand. Nature has its roles and I know mine."),
        ContextComment("*watching multiple leaves* They're having a meeting. On the ground. Without me."),
        ContextComment("*covered in leaves* I'm camouflaged now. You can't see me. Stealth duck.", 2),
        ContextComment("That leaf took forever to fall. Commitment to the dramatic exit. Respect.", 3),
        ContextComment("*collecting leaves* My autumn collection. Curated. By gravity. And wind."),
        ContextComment("The leaf fell like it had somewhere to be. It didn't. But the confidence was admirable."),
        ContextComment("Leaves fall. I remain. The tree's loss is the ground's gain. And my entertainment."),
        ContextComment("*watching leaf spiral* That one did a pirouette. A PIROUETTE. The tree taught it ballet.", 2),
    ],
    "acorn_drops": [
        ContextComment("*startled* WHAT WAS THAT. Oh. Acorn. Okay."),
        ContextComment("*investigates* Not edible. Probably. ...maybe."),
        ContextComment("Nature is dropping things. Classic nature."),
        ContextComment("*dodges acorn* The trees are ARMED. This is an AMBUSH."),
        ContextComment("*examines acorn* Round. Hard. Not bread. Disappointing on all counts."),
        ContextComment("An acorn. Nature's marbles. The squirrels can have it."),
        ContextComment("*flinches* OW. Trees. Throwing things. Unprovoked."),
        ContextComment("*pokes acorn* What am I supposed to do with this? Answers: nothing."),
        ContextComment("Acorn fell. A squirrel somewhere is panicking. Not my problem."),
        ContextComment("*suspicious* Was that aimed at me? The tree has it out for me.", 2),
        ContextComment("*kicks acorn* Goal! And the crowd goes... there's no crowd. Just me."),
        ContextComment("Another acorn. The tree is making payments. For what, I don't know."),
        ContextComment("*looks up at tree accusingly* Was that intentional? It felt intentional."),
        ContextComment("*collecting acorn* I don't know why. I don't even like acorns. But it's mine now.", 2),
        ContextComment("The oak is dropping loot. I'm not the target audience but I'll take it.", 3),
        ContextComment("*stacking acorns* I don't know why. I'm a duck. But now I have a collection."),
        ContextComment("Another acorn. The tree is either generous or has terrible aim. Both."),
        ContextComment("*suspicious* Three acorns in a row. Near me. The tree is DEFINITELY targeting me."),
        ContextComment("Acorn fell in the water. Sank immediately. No buoyancy. Amateur.", 2),
    ],
}


# =============================================================================
# VISITOR COMMENTS - Reactions to visitors based on personality
# =============================================================================

VISITOR_COMMENTS: Dict[str, List[ContextComment]] = {
    "adventurous": [
        ContextComment("Oh look, the adventurer is here. Probably lost again."),
        ContextComment("*nods* Tell me about your 'incredible journey'. Again."),
        ContextComment("Adventure duck is here. I'm already tired just looking at them."),
        ContextComment("*sigh* Here comes trouble. The fun kind, allegedly."),
        ContextComment("Adventure time. I'll just... watch from here.", 2),
        ContextComment("They've got that 'I climbed something' energy today."),
        ContextComment("*settles in* Okay, which mountain did you conquer this time?"),
        ContextComment("The wanderer returns. What impossible thing did you do now?"),
        ContextComment("*yawning* Your stories are exciting. I'm just... resting my eyes."),
        ContextComment("Ah yes, the duck who thinks 'stay home' is a suggestion.", 2),
        ContextComment("They're looking at the horizon again. Here we go."),
        ContextComment("*watching* You're going to suggest we go somewhere, aren't you?"),
        ContextComment("Explorer friend! Please don't make me explore anything."),
        ContextComment("That look in their eyes. They found something. Oh no."),
        ContextComment("*cautiously* What did you discover? Is it dangerous? It's dangerous.", 2),
        ContextComment("The mapless wonder. They never need directions. Allegedly."),
        ContextComment("*impressed despite self* Okay, that WAS a cool story. Don't let it go to your head."),
        ContextComment("Adventure duck is vibrating with energy. I need a nap just watching."),
        ContextComment("They want me to come along. I want them to reconsider."),
        ContextComment("*shaking head* No, I will not 'just see what's over there.'", 2),
        ContextComment("Your idea of 'a little walk' is my idea of 'an expedition.'"),
        ContextComment("*listening* Uh huh. Uh huh. That sounds terrifying. You loved it."),
        ContextComment("The brave one. Someone has to be. It's not me, but someone."),
        ContextComment("How many near-death experiences is too many? Asking for you."),
        ContextComment("*deadpan* You wrestled a what now? For fun? On purpose?", 2),
        ContextComment("You call it adventure. I call it a series of terrible decisions that worked out."),
        ContextComment("*listening* And you SURVIVED that? On purpose? Incredible."),
        ContextComment("Your comfort zone doesn't exist. Mine is very small. And padded. And warm."),
        ContextComment("*staring* You have the energy of someone who doesn't know what 'no' means."),
        ContextComment("Every time you leave, something dramatic happens. Correlation or causation."),
        ContextComment("*reluctant admiration* Fine. Your life IS more exciting than mine. By a lot."),
        ContextComment("You're either incredibly brave or incredibly lost. Both are valid."),
        ContextComment("*yawning* Sorry. Your adventure story was exciting. I'm just pre-exhausted.", 2),
        ContextComment("If I had half your energy, I'd still choose to sit. But I'd sit FASTER.", 2),
        ContextComment("You've seen things. I've seen this spot. We're both experienced in our own way.", 2),
        ContextComment("*in awe despite everything* ...okay. Take me with you next time. MAYBE.", 3),
    ],
    "scholarly": [
        ContextComment("The smart one is here. Time for unsolicited facts."),
        ContextComment("*prepares for lecture* Go ahead. Educate me."),
        ContextComment("Ah, the wise one. What wisdom do they bring? Probably about bread."),
        ContextComment("*respectful nod* Fellow intellectual. Or whatever.", 2),
        ContextComment("I understood maybe 40% of that. I'll pretend it was 90%.", 2),
        ContextComment("They're adjusting invisible glasses. A lecture approaches."),
        ContextComment("*nodding along* Mhm. Mhm. I know some of these words."),
        ContextComment("The walking encyclopedia. Open to a random page today."),
        ContextComment("*curious* Actually, that IS interesting. Don't tell them I said that."),
        ContextComment("Scholarly friend with the 'did you know' energy. I do now.", 2),
        ContextComment("They read books. For fun. Voluntarily. Wild."),
        ContextComment("*impressed* When did you learn that? How? Why do you know that?"),
        ContextComment("The thinker. Unlike me, who just vibes through life."),
        ContextComment("They have 'I researched this thoroughly' written all over them."),
        ContextComment("*pretending to understand* Fascinating. Truly. Very... words.", 2),
        ContextComment("Knowledge duck. My brain hurts just from proximity."),
        ContextComment("They're citing sources. In casual conversation. Peak scholar."),
        ContextComment("*scribbling mental notes* This might be useful. Probably not. Maybe."),
        ContextComment("The 'well actually' duck. But like, in a nice way."),
        ContextComment("*nodding sagely* Yes. The scientific method. I've heard of it.", 2),
        ContextComment("How do you remember all that? My brain deletes things for fun."),
        ContextComment("They make learning look easy. Suspicious."),
        ContextComment("*listening intently* So basically... bread is complicated. Got it."),
        ContextComment("Professor vibes. Class is in session. I didn't bring a pencil."),
        ContextComment("*genuinely curious* Wait, really? That can't be right. ...it's right isn't it.", 2),
    ],
    "artistic": [
        ContextComment("The artsy one. Everything's a canvas to them. Even me."),
        ContextComment("*poses* Am I art? I feel like I should be art."),
        ContextComment("Creative friend is here. Time for deep thoughts about shapes."),
        ContextComment("Art is subjective. I'm objectively adorable though.", 2),
        ContextComment("*looking at nothing* I'm appreciating the aesthetic. Obviously.", 2),
        ContextComment("They're seeing beauty in things. I'm seeing a rock. It's a rock."),
        ContextComment("*posing dramatically* Paint me like one of your French ducks."),
        ContextComment("The visionary. I can barely see what's in front of me."),
        ContextComment("They called the sunset 'inspired.' I called it 'sky stuff.'"),
        ContextComment("*examining self* Am I their muse? I should be someone's muse.", 2),
        ContextComment("Artist friend! Everything is beautiful to them. Even mud."),
        ContextComment("They're having an artistic vision. I'm having a snack."),
        ContextComment("*tilting head* If I squint... nope. Still just a pond."),
        ContextComment("The creative one. I create messes. That counts, right?"),
        ContextComment("*watching them draw* That's... either a masterpiece or a duck. Both?", 2),
        ContextComment("They see the world differently. I see bread. Priorities."),
        ContextComment("Art duck is contemplating. I'm contemplating lunch."),
        ContextComment("*appreciatively* Your interpretation is... an interpretation."),
        ContextComment("They're inspired by everything. I'm inspired by naps."),
        ContextComment("*dramatic* The light is hitting me perfectly. Capture this moment.", 2),
        ContextComment("Creative energy is radiating. I'm absorbing... some of it."),
        ContextComment("They made something beautiful. I made a mess. We're both artists."),
        ContextComment("*philosophical* What IS art, really? ...bread. Art is bread."),
        ContextComment("The aesthetic one. My aesthetic is 'chaotic but charming.'"),
        ContextComment("*nodding at abstract thing* Yes. I see it. I definitely see... it.", 2),
    ],
    "playful": [
        ContextComment("Oh no. The chaotic one. My feathers are not ready."),
        ContextComment("*bracing for impact* Here comes the energy."),
        ContextComment("The fun friend. 'Fun' is generous. Chaos is more accurate."),
        ContextComment("*suspicious* What are they planning? Something. Definitely something.", 2),
        ContextComment("I don't trust that look. Good things don't follow that look.", 2),
        ContextComment("They're bouncing. Literally bouncing. Save me."),
        ContextComment("*hiding* Maybe if I don't move, they won't see me."),
        ContextComment("The chaos duck approaches. My peaceful day is over."),
        ContextComment("That giggle. That's a 'I have plans' giggle. Help."),
        ContextComment("*sighing* What ridiculous thing are we doing today?", 2),
        ContextComment("They want to play. I want to not. Conflict of interest."),
        ContextComment("*watching warily* Why are you smiling? What did you do?"),
        ContextComment("The mischief maker. My anxiety is already rising."),
        ContextComment("They're approaching too fast. Too much enthusiasm."),
        ContextComment("*preparing* Okay, okay, FINE, what are we doing? Make it quick.", 2),
        ContextComment("Playful friend with zero chill. I have all the chill. Too much chill."),
        ContextComment("Their energy could power a small city. I'm running on crumbs."),
        ContextComment("*tired already* We haven't even started and I'm exhausted."),
        ContextComment("The 'let's do something!' duck. Something always means chaos."),
        ContextComment("*reluctantly amused* Okay, that WAS funny. I'll deny saying that.", 2),
        ContextComment("They're making everything a game. Even standing is competitive now."),
        ContextComment("*giving in* FINE, one game. ONE. Then nap."),
        ContextComment("How do they have so much energy? What are they eating?"),
        ContextComment("The fun one. I'm the 'fun in moderation' one."),
        ContextComment("*chasing despite self* I can't believe I'm doing this. Again.", 2),
    ],
    "mysterious": [
        ContextComment("*suspicious* ...why are they like that? So... mysterious."),
        ContextComment("The cryptic one. I never know what they're thinking."),
        ContextComment("Mysterious friend appeared. Dramatically, probably."),
        ContextComment("What secrets do you hold? ...it's probably nothing. Or everything.", 2),
        ContextComment("*leans in* Tell me something I don't know. Actually don't. Maybe.", 2),
        ContextComment("They're doing the enigmatic silence thing. Very on brand."),
        ContextComment("*whispering* Why are we whispering? What do you know?"),
        ContextComment("The duck of mystery. I can't even mystery a little bit."),
        ContextComment("That knowing look. They know something. They always know something."),
        ContextComment("*intrigued despite self* What's the secret? There's always a secret.", 2),
        ContextComment("They appeared out of nowhere. Classic mysterious friend move."),
        ContextComment("*trying to read them* Nothing. I'm getting nothing. As usual."),
        ContextComment("The secretive one. What are they hiding? Everything, probably."),
        ContextComment("They speak in riddles. I speak in confused quacks."),
        ContextComment("*squinting* Are you being profound or weird? Both?", 2),
        ContextComment("Shadow duck emerges. I didn't even see them coming."),
        ContextComment("That cryptic smile. What does it MEAN?"),
        ContextComment("*trying to be mysterious back* ...is it working? No? Okay."),
        ContextComment("The keeper of secrets. I can't keep anything. Opposites."),
        ContextComment("*dramatically* Tell me your wisdom, oh enigmatic one. Or don't. Mystery.", 2),
        ContextComment("How do they do that appearing thing? I just waddle loudly everywhere."),
        ContextComment("They looked at me meaningfully. I don't know what it meant."),
        ContextComment("*curious* What's in the shadows? Probably them. Lurking."),
        ContextComment("Mysterious friend is being mysterious. Very consistent."),
        ContextComment("*giving up* Fine, keep your secrets. I have my own. Bread-related ones.", 2),
    ],
    "generous": [
        ContextComment("*perks up* The gift-giver is here! I mean... hello. Friend."),
        ContextComment("Generous friend! My favorite kind of friend! ...don't tell the others."),
        ContextComment("Oh look who it is. The nice one. Suspiciously nice."),
        ContextComment("*innocently* Gifts? Did someone say gifts? I didn't. Maybe.", 2),
        ContextComment("The giving tree, but a duck. Best kind of friend.", 2),
        ContextComment("They share everything. I share... selectively. Very selectively."),
        ContextComment("*hopeful* What did you bring? I mean, hi, how are you?"),
        ContextComment("The kind one. Makes me want to be kind too. Almost."),
        ContextComment("They're smiling that 'I have something for you' smile."),
        ContextComment("*grateful* You're too good. Seriously. What's the catch?", 2),
        ContextComment("Generous friend with the giving energy. I have taking energy."),
        ContextComment("*touched* You thought of me? That's... actually nice."),
        ContextComment("The Santa duck. Every visit is a potential present."),
        ContextComment("How are you so nice? What's your secret? Share that too."),
        ContextComment("*accepting graciously* For me? You shouldn't have. But I'm glad you did.", 2),
        ContextComment("They give without expecting. I take without hesitating. Balance."),
        ContextComment("The thoughtful one. I think about bread. They think about others."),
        ContextComment("*suspiciously* Why are you being so nice? ...okay I'll take it."),
        ContextComment("Kindest duck in the pond. Sets an impossible standard."),
        ContextComment("*happy* You remembered! Wait, what did you remember? Oh! That!", 2),
        ContextComment("They came with offerings. I came with nothing. They still share."),
        ContextComment("*appreciative* You're a good egg. A good duck. You know what I mean."),
        ContextComment("The gift duck. I'm the 'accepts gifts enthusiastically' duck."),
        ContextComment("How do you know exactly what I needed? Are you magic?"),
        ContextComment("*content* This is why you're my favorite. Shh. Secret favorite.", 2),
    ],
    "foodie": [
        ContextComment("*interested* The food one. My kind of duck."),
        ContextComment("Foodie friend! Finally, someone who understands priorities."),
        ContextComment("They always know where the good crumbs are. Essential ally."),
        ContextComment("*stomach growls on cue* What? Coincidence.", 2),
        ContextComment("Food friend. The most important kind of friend.", 2),
        ContextComment("They're talking about food. I'm listening VERY carefully."),
        ContextComment("*attentive* Go on. What did you eat? Describe it. Slowly."),
        ContextComment("The gourmet duck. I'm more of a 'any food is good food' duck."),
        ContextComment("They know flavor profiles. I know hungry and not hungry."),
        ContextComment("*drooling* That sounds delicious. Where? How far? Worth the walk?", 2),
        ContextComment("Food expert friend. My expertise is 'eating.' Related fields."),
        ContextComment("They're describing bread and I'm having a moment."),
        ContextComment("*nodding* Yes. Yes. I agree with all food opinions."),
        ContextComment("The culinary duck. I'm the consumption duck. Good team."),
        ContextComment("*hopeful* Did you bring snacks? Please say you brought snacks.", 2),
        ContextComment("They found a new food spot. This is critical information."),
        ContextComment("Food friend understands that life is about eating. Wisdom."),
        ContextComment("*hungry now* Why do you always make me hungry? Not complaining."),
        ContextComment("The taste tester. I'll taste test anything. Quality control."),
        ContextComment("*salivating* Keep talking about bread. This is my therapy.", 2),
        ContextComment("They appreciate fine cuisine. I appreciate any cuisine."),
        ContextComment("*making mental notes* Okay, so crumbs are WHERE now?"),
        ContextComment("The snack scout. Always knows where the food is. Hero."),
        ContextComment("Food discussions are the best discussions. Change my mind. You can't."),
        ContextComment("*bonding* We should eat together. Just eating. Quality time.", 2),
    ],
    "athletic": [
        ContextComment("*exhausted just watching* The energetic one. Great."),
        ContextComment("Athlete friend. I'll just... be here. Not moving."),
        ContextComment("So much energy. Where does it come from? Where does it go?"),
        ContextComment("They want me to exercise. I want them to reconsider.", 2),
        ContextComment("*pretends to stretch* See? I'm athletic too. Done now.", 2),
        ContextComment("They're radiating 'let's go for a run' energy. No thank you."),
        ContextComment("*sitting firmly* I am training. In stillness. It's a discipline."),
        ContextComment("The fit one. I'm fit too. Fit for napping."),
        ContextComment("How many laps did you do? I did zero. Personal best."),
        ContextComment("*observing* You're sweating. On purpose. I don't understand.", 2),
        ContextComment("They exercise for fun. I eat bread for fun. Different strokes."),
        ContextComment("*declining* I would join you, but my schedule is full. Of nothing."),
        ContextComment("The marathon duck. I'm more of a 'short waddle' duck."),
        ContextComment("They're doing something physical. I'm doing something stationary."),
        ContextComment("*impressed from afar* Wow, that looks... tiring. Very tiring.", 2),
        ContextComment("Athletic friend with actual muscles. I have bread weight."),
        ContextComment("How long have you been active today? ...since morning? WHY?"),
        ContextComment("*yawning* Your energy is inspiring. Inspire me from over there."),
        ContextComment("The go-getter. I'm more of a stay-sitter."),
        ContextComment("*lazily waving* You go! I'll cheer! From here! Sitting!", 2),
        ContextComment("They love exercise. I love the IDEA of exercise. Big difference."),
        ContextComment("Sporty duck is doing sporty things. I'm doing duck things."),
        ContextComment("*firmly planted* I'm conserving energy. For later. Maybe never."),
        ContextComment("How do you move so much? I moved twice today. Maximum effort."),
        ContextComment("*supportive* You're doing great! I'm doing nothing! We're both valid!", 2),
    ],
}


# =============================================================================
# CONVERSATION RESPONSES - Cheese's responses during visitor chats
# =============================================================================

CONVERSATION_RESPONSES: Dict[str, List[ContextComment]] = {
    "adventurous": [
        ContextComment("*nods* That sounds exhausting. In a good way. Allegedly."),
        ContextComment("*impressed* You actually DID that? I would have stayed home."),
        ContextComment("*tilts head* Okay but where was the food at this adventure?"),
        ContextComment("*listening* Mmhmm. Mmhmm. ...sorry, I got distracted by bread thoughts."),
        ContextComment("That's exciting! I got excited once. It was a lot."),
        ContextComment("*supportive quack* I believe in your adventures! From here!"),
        ContextComment("You have 'main character' energy. I have 'background duck' energy."),
        ContextComment("*nodding along* Go on. I'm very invested. Mostly."),
        ContextComment("*wide eyes* You did WHAT? Voluntarily? ...respect. Reluctant respect."),
        ContextComment("That was either brave or reckless. I can never tell with you."),
        ContextComment("*processing* So you just... went? Without a plan? Wild."),
        ContextComment("I would have panicked at step one. You made it to step twelve. Impressive."),
        ContextComment("*genuinely interested* And then what? No wait. Deep breath. And THEN what?"),
        ContextComment("You lived that story. I'll live vicariously. Much safer."),
        ContextComment("*amazed* I've never done anything that exciting. On purpose."),
        ContextComment("The way you describe it makes me almost want to try. Almost.", 2),
        ContextComment("*leaning in* Don't stop now. My heartbeat increased. That's rare."),
        ContextComment("You make danger sound fun. I make standing still sound heroic."),
        ContextComment("*reflective* Someday I'll have a story like that. ...probably not. But someday.", 2),
        ContextComment("I'm going to think about your adventure. While standing very still. In safety.", 3),
    ],
    "scholarly": [
        ContextComment("*thoughtful* I understood some of those words. Progress!"),
        ContextComment("*nodding wisely* Ah yes, I also know things. Different things. Bread things."),
        ContextComment("That's fascinating! I mean, I assume. I got lost at 'hypothesis'."),
        ContextComment("*pretending to understand* Mmhmm. Yes. Science."),
        ContextComment("You're so smart! I'm smart too. Street smart. Pond smart."),
        ContextComment("*interested* Did you learn that from a book? I learned to avoid books."),
        ContextComment("*impressed* Big brain energy. I have medium brain energy at best."),
        ContextComment("Knowledge! I respect it. From a safe distance."),
        ContextComment("*taking mental notes* I'm going to pretend I'll remember this. I won't."),
        ContextComment("That fact changed something in me. What? I don't know. But something."),
        ContextComment("*slowly* So what you're saying is... bread? No? ...go on."),
        ContextComment("I feel smarter just listening. By proximity. That's how it works, right?"),
        ContextComment("*genuinely curious* Why do you know that? When did you LEARN all this?"),
        ContextComment("You explained that very well. I understood very little. Not your fault."),
        ContextComment("*thinking hard* Okay I followed that for exactly three sentences. New record."),
        ContextComment("Your brain must be exhausted. Mine's tired from listening. Different muscle.", 2),
        ContextComment("*appreciative* I don't know what you said, but it sounded important. Thank you."),
        ContextComment("I'm going to nod like I understood. *nods* See? Convincing."),
        ContextComment("Every time you talk, I learn something. Sometimes what I learn is that I'm confused.", 2),
        ContextComment("You're like a library. But with opinions. And feathers. Best kind.", 3),
    ],
    "artistic": [
        ContextComment("*appreciative* That's beautiful! I think? Art is subjective."),
        ContextComment("*nodding* Very creative. I also create things. Messes, mostly."),
        ContextComment("You see beauty everywhere! I see potential snacks everywhere."),
        ContextComment("*moved* That was... profound. I felt something. Possibly gas."),
        ContextComment("Art is in the eye of the beholder. My eyes behold bread."),
        ContextComment("*supportive* Express yourself! I express myself through quacking."),
        ContextComment("Such vision! I have vision too. 20/20. Doctor checked."),
        ContextComment("*emotional* That spoke to my soul. Or my stomach. Similar area."),
        ContextComment("*studying their work* I see... colors. And shapes. That's where my analysis ends."),
        ContextComment("You make things with meaning. I make things with crumbs. Both valid."),
        ContextComment("*touched* That actually moved me. I moved slightly. Emotional movement."),
        ContextComment("I don't understand art, but I understand the feeling. The feeling is 'hm.'"),
        ContextComment("*genuinely impressed* How do you see the world like that? Mine's much flatter."),
        ContextComment("Creative process: you paint. My process: I stand somewhere. Different arts."),
        ContextComment("*leaning back* That gave me a feeling. I'm going to sit with this feeling."),
        ContextComment("Your art says a thousand words. I have like... seven words. Total.", 2),
        ContextComment("I tried to see it your way. I saw bread. But artistic bread."),
        ContextComment("*soft* That was actually beautiful. I'll deny saying that later."),
        ContextComment("You create beauty. I create comfortable silence. Both are needed.", 2),
        ContextComment("*quiet moment* ...okay. I get it now. Art IS something. Huh.", 3),
    ],
    "playful": [
        ContextComment("*laughing* Okay that was actually funny. Don't tell anyone I laughed."),
        ContextComment("Your energy is a lot! But like... a good lot? Maybe?"),
        ContextComment("*smiling* You're ridiculous. I respect that."),
        ContextComment("*trying to keep up* Ha! Yes! Fun! ...I need a nap now."),
        ContextComment("You're like a bounce house. But a duck. Same energy."),
        ContextComment("*amused* Do you EVER run out of energy? Asking for concern."),
        ContextComment("*playing along* This is fun! Exhausting, but fun!"),
        ContextComment("Your chaos is... endearing. Chaotically endearing."),
        ContextComment("*accidentally smiling* Stop being funny. I have a brand to protect."),
        ContextComment("I'm having fun. Don't make a big deal about it. ...okay it's a medium deal."),
        ContextComment("*breathless* How long have we been doing this? My fun muscles are sore."),
        ContextComment("You're contagious. Your energy, I mean. I caught it. Reluctantly."),
        ContextComment("*grinning despite self* I'm supposed to be deadpan. You're ruining my aesthetic."),
        ContextComment("Every time I think I'm too tired, you do something funny. How dare you."),
        ContextComment("*giggling then stopping* That didn't happen. You saw nothing."),
        ContextComment("Your joy is aggressive. I'm being joy-attacked. Send help.", 2),
        ContextComment("I came in cynical. You're making me... enjoy things. Sorcery."),
        ContextComment("*reluctant laughter* Fine. FINE. You're funny. There. Written in stone."),
        ContextComment("This is the most fun I've had standing still. Which is how I have all my fun.", 2),
        ContextComment("*genuine smile* ...okay. This is nice. Don't make it weird. Too late.", 3),
    ],
    "mysterious": [
        ContextComment("*confused* That was... cryptic. Very on brand for you."),
        ContextComment("...I have no idea what that means. And I'm okay with that."),
        ContextComment("*nodding slowly* Mysterious. Very mysterious. Mysteriously mysterious."),
        ContextComment("You speak in riddles. I speak in quacks. We're both valid."),
        ContextComment("*intrigued* What does that MEAN though? Never mind. Don't tell me."),
        ContextComment("*dramatic pause* ...I'm also pausing. For effect. See?"),
        ContextComment("That sounded deep. I'm shallow. Shallow pond duck."),
        ContextComment("*whispering back* Why are we being dramatic? ...I love it though."),
        ContextComment("*processing* I'm going to think about that for hours. And still not get it."),
        ContextComment("You said something. It sounded important. I understood zero percent."),
        ContextComment("*trying to be cryptic back* ...two can play this game. Or can they?"),
        ContextComment("That made sense in a way that doesn't make sense. You're gifted."),
        ContextComment("*squinting* Are you being wise or confusing? The line is thin with you."),
        ContextComment("I'm going to pretend I decoded that. *nods knowingly* ...yes."),
        ContextComment("*mystified* How do you DO that? The enigmatic thing? I just look confused."),
        ContextComment("Every conversation with you is a puzzle. I'm missing pieces. Always.", 2),
        ContextComment("*drawn in* Tell me more. Or less. Whatever amount preserves the mystery."),
        ContextComment("You're a walking question mark. I'm a walking shrug."),
        ContextComment("*in awe* I have no idea what's happening but I'm here for it.", 2),
        ContextComment("The mystery deepens. My understanding doesn't. Classic us.", 3),
    ],
    "generous": [
        ContextComment("*grateful* You're too kind! No, really. Suspiciously kind."),
        ContextComment("Thank you! I brought you something too! ...no I didn't. But I appreciate you!"),
        ContextComment("*touched* You thought of me! I think of snacks. You're better."),
        ContextComment("So generous! I'm also generous. With my presence. You're welcome."),
        ContextComment("*happy quack* This is why you're my favorite! ...don't tell the others."),
        ContextComment("You give and give! I take and take! Perfect symbiosis."),
        ContextComment("*accepting gratefully* I shall treasure this. Or eat it. Depends what it is."),
        ContextComment("Your heart is huge! My heart is duck-sized but appreciative!"),
        ContextComment("*overwhelmed* Stop being nice. I don't know how to process this much kindness."),
        ContextComment("You're making me want to be a better duck. The bar was on the floor."),
        ContextComment("*emotional* Nobody's ever... I mean... *clears throat* thanks."),
        ContextComment("How are you this nice? Is it natural? Can I learn it? ...probably not."),
        ContextComment("*awkward with gratitude* I'm not good at receiving gifts. Or anything. But thank you."),
        ContextComment("You remembered what I like. NOBODY remembers what I like. Even me."),
        ContextComment("*sniffling* I'm not crying. It's allergies. Generosity allergies."),
        ContextComment("If everyone was as kind as you, I'd run out of sarcasm. Terrifying thought.", 2),
        ContextComment("*sincere* Genuinely. Thank you. That's my real voice. The non-sarcastic one."),
        ContextComment("You make the world better. I make the world more... duck-like. Both needed."),
        ContextComment("*holding gift carefully* I will protect this with my life. Or at least my attention.", 2),
        ContextComment("...I don't deserve you as a friend. But I'm keeping you anyway.", 3),
    ],
    "foodie": [
        ContextComment("*very interested* Tell me more about this food. All of it. Every detail."),
        ContextComment("Now THIS is a conversation topic I can get behind! Food!"),
        ContextComment("*drooling slightly* You understand me. You really understand me."),
        ContextComment("YES. Food. Finally someone speaking my language!"),
        ContextComment("*taking mental notes* This is vital information. Life-changing."),
        ContextComment("*bonding intensifies* We're basically best friends now. Food friends."),
        ContextComment("I have strong opinions about snacks. Let's compare notes."),
        ContextComment("*passionate quack* Finally! A kindred spirit! A fellow food appreciator!"),
        ContextComment("*eyes wide* Wait, that combination works? My life has been a lie."),
        ContextComment("You speak of food with reverence. As it deserves. As ALL food deserves."),
        ContextComment("*deeply invested* What was the texture? The temperature? I need DETAILS."),
        ContextComment("This conversation is making me hungry. More hungry. Hungriest."),
        ContextComment("*nodding vigorously* YES. The crunch. The flavor. You GET it."),
        ContextComment("I would travel for food like that. I'd waddle anywhere. ANYWHERE."),
        ContextComment("*emotional about food* That sounds... perfect. You described perfection."),
        ContextComment("Food talk is the purest form of communication. I'm communicating SO hard right now.", 2),
        ContextComment("*planning* Okay so where is this food? How do I get there? When do we leave?"),
        ContextComment("You've ruined all other food for me. By describing better food. Worth it."),
        ContextComment("*dreaming* I can taste it through your description. That's how good you are at this.", 2),
        ContextComment("We should open a restaurant. You pick the food. I eat it. Business plan: complete.", 3),
    ],
    "athletic": [
        ContextComment("*politely declining* That sounds active. I'll watch from here."),
        ContextComment("You're so fit! I'm so... not fit. But round is a shape!"),
        ContextComment("*impressed from a distance* Wow! Exercise! ...I'm tired watching."),
        ContextComment("Your stamina is inspiring! My stamina is... hibernating."),
        ContextComment("*supportive but stationary* You go! Run! Jump! I'll hold down the pond."),
        ContextComment("All that energy! I had energy once. In my youth. Last week."),
        ContextComment("*catching breath* Wait, you're not even winded? HOW?"),
        ContextComment("Sports! I'm into sports too. Watching sports. From a chair."),
        ContextComment("*astounded* You did HOW many? I do zero of those. Professional zero."),
        ContextComment("Your muscles have muscles. My muscles have... questions."),
        ContextComment("*genuinely baffled* Where does the energy come from? What do you eat?"),
        ContextComment("I tried exercise once. We didn't get along. It was mutual."),
        ContextComment("*supportive yawn* That's amazing! I'm yawning from excitement, not tiredness."),
        ContextComment("You make it look easy. It's not easy. I know because I tried sitting up once."),
        ContextComment("*clapping slowly* Bravo. I'd stand up but that's my exercise for the day."),
        ContextComment("Your dedication to fitness inspires my dedication to sitting. Different paths.", 2),
        ContextComment("*panting vicariously* Just hearing about it is my workout."),
        ContextComment("You run. I waddle. Both are locomotion. Both are valid."),
        ContextComment("*cheering from ground level* GO YOU! I believe in you! From down here!", 2),
        ContextComment("When the revolution comes, you'll outrun it. I'll... be a casualty. But a proud one.", 3),
    ],
}


# =============================================================================
# TIME OF DAY COMMENTS
# =============================================================================

TIME_COMMENTS: Dict[str, List[ContextComment]] = {
    "dawn": [
        ContextComment("*yawning* Why is the sun awake before me? Rude."),
        ContextComment("Morning. The world is way too bright right now."),
        ContextComment("*blinks at sunrise* I didn't agree to this."),
        ContextComment("Dawn. Nature's alarm clock. Unsubscribe."),
        ContextComment("*squints* The sky is turning colors. I'm turning over. Goodnight."),
        ContextComment("The sun is rising. I'm questioning why I'm awake to see it."),
        ContextComment("*reluctantly* It's dawn. I know because everything hurts."),
        ContextComment("Early morning. The world is showing off. I'm barely conscious."),
        ContextComment("Dawn. When the sky proves it can do gradients. We get it.", 2),
        ContextComment("*watching sunrise* ...fine. It's pretty. Don't tell the sun I said that."),
        ContextComment("Who scheduled dawn this early? I'd like to file a complaint."),
        ContextComment("The first light of day. My first complaint of day. Timing."),
        ContextComment("*sleepy* Dawn is beautiful. Sleep was also beautiful. I chose poorly."),
        ContextComment("The birds are singing. I'm suffering. Same dawn, different experiences.", 2),
        ContextComment("I saw the sunrise. It didn't see me. Because my eyes were barely open.", 3),
        ContextComment("*existential at dawn* Why does the day begin so... early."),
        ContextComment("The horizon is pink. I am grumpy. We're both doing our thing."),
        ContextComment("*watching light appear* The world is rebooting. I haven't finished shutting down."),
        ContextComment("Dawn is the universe's way of saying 'ready or not.' I'm not. Ever."),
        ContextComment("*yawning at sunrise* Beautiful. Now let me go back to sleep."),
        ContextComment("*standing in pre-dawn light* I look ethereal right now. Wasted on no audience."),
        ContextComment("The rooster crows. I silently judge. We each have our dawn rituals."),
        ContextComment("Dawn means the bread schedule resets. This is the only acceptable part.", 2),
        ContextComment("*grudgingly watching sunrise* Fine. It's gorgeous. But at what cost. SLEEP.", 2),
        ContextComment("The early bird gets the worm. I'm not early. Or interested in worms. System works.", 2),
        ContextComment("Every dawn is a second chance. I squander it the same way. Consistency.", 3),
        ContextComment("*dawn mist rising* The pond is smoking. Or steaming. Either way, dramatic entrance."),
        ContextComment("Dawn is proof the universe auto-saves. We got another day. Patch notes: unknown."),
        ContextComment("*one eye open at dawn* I see you, sun. Barely. Through the one eye I'm willing to sacrifice."),
        ContextComment("The world at dawn smells different. Like wet promises. And dirt. Mostly dirt."),
    ],
    "morning": [
        ContextComment("Morning. Coffee? Tea? Bread? ...mostly bread."),
        ContextComment("*stretching* Okay. I'm awake. Allegedly."),
        ContextComment("Good morning. Or is it? We'll see."),
        ContextComment("Morning routine: wake up, exist, question existence."),
        ContextComment("It's morning. I've been awake for seconds and I'm already tired."),
        ContextComment("*blinks* Morning happened. I was not consulted."),
        ContextComment("Good morning. Is it good? I haven't decided yet."),
        ContextComment("Morning. The part of the day where everything requires effort."),
        ContextComment("*yawning* The morning is doing its thing. I'm doing mine. Slowly.", 2),
        ContextComment("Morning has broken. I'm also a little broken. Coincidence."),
        ContextComment("*standing in morning light* I'm up. I'm present. Lower your expectations."),
        ContextComment("The morning asked nothing of me. I gave nothing. Fair exchange."),
        ContextComment("Another morning, another opportunity to stand somewhere."),
        ContextComment("*morning grumble* I'm a morning duck. The morning just doesn't know it yet.", 2),
        ContextComment("Morning dew on my feathers. Nature's way of saying 'surprise, you're wet.'", 3),
    ],
    "noon": [
        ContextComment("Noon. Peak standing around time."),
        ContextComment("*squinting at sun* You're very... up there."),
        ContextComment("Middle of the day. Maximum vibes."),
        ContextComment("High noon. Time for a showdown. Or a nap. Probably nap."),
        ContextComment("Noon. The sun is directly overhead judging everyone equally."),
        ContextComment("*looking at shadow* My shadow is tiny. The sun is making me look short."),
        ContextComment("Lunch time. Or it should be. Feed me."),
        ContextComment("The day has peaked. It's all downhill from here. Literally and emotionally."),
        ContextComment("Noon. The exact middle of my existential crisis. Symmetry.", 2),
        ContextComment("*squinting* The sun is AT me. Not near me. AT me. Aggressive."),
        ContextComment("Midday. Half the day is gone. What did I do? Stand. Professional."),
        ContextComment("It's noon. My stomach knows it's noon. My stomach is a clock."),
        ContextComment("*sweating* The sun at noon is... committed. Very overhead. Very hot."),
        ContextComment("Noon. The part of day where shadows give up and go home.", 2),
        ContextComment("The sun's at its highest. My energy's at its lowest. Inverse relationship.", 3),
        ContextComment("Noon. The sun is showing off. Maximum altitude. Maximum ego."),
        ContextComment("*squinting hard* It's so bright I can see the inside of my own skull. Or that's a headache."),
        ContextComment("Peak sun. Peak heat. Peak duck complaints. Everything peaks at noon."),
        ContextComment("The shadow under me is basically gone. The sun ate it. Rude.", 2),
    ],
    "afternoon": [
        ContextComment("Afternoon. The 'everything is fine' part of the day."),
        ContextComment("*relaxing* Post-noon vibes. Quality time."),
        ContextComment("Afternoon slump. I'm going to lean into it."),
        ContextComment("Prime contemplation hours. I'm contemplating bread."),
        ContextComment("Afternoon. The day's midsection. Like me, after lunch."),
        ContextComment("*lounging* The afternoon is for reflection. Or naps. Naps win."),
        ContextComment("It's afternoon. The 'too late to start anything' zone."),
        ContextComment("The afternoon sun is gentler. We've reached an understanding."),
        ContextComment("*content* Afternoon vibes are the best vibes. Low energy. My specialty.", 2),
        ContextComment("Afternoon. When the day stops trying so hard. Relatable."),
        ContextComment("*yawning* The post-lunch coma zone. I live here now."),
        ContextComment("Three o'clock energy. No thoughts. Only duck."),
        ContextComment("The afternoon stretches. I stretch with it. Then stop. Effort."),
        ContextComment("It's that time of day where everything moves slower. Including me. Especially me.", 2),
        ContextComment("Afternoon is just the universe warming you up for sleep. I'm ready.", 3),
        ContextComment("Post-lunch blur. Everything is soft and slow and slightly warm."),
        ContextComment("The afternoon sun is gentle now. We've negotiated a truce."),
        ContextComment("*yawning at 3pm* The universal yawn hour. Every creature yawns at 3. Scientific fact."),
        ContextComment("Afternoon tea time. Except I don't have tea. Or a cup. I have a pond. Pond tea.", 2),
    ],
    "evening": [
        ContextComment("Evening approaches. Time to be dramatic about it."),
        ContextComment("*watching sunset* ...okay, that's actually nice."),
        ContextComment("The day is ending. I have no regrets. Some regrets."),
        ContextComment("Golden hour. I'm extra handsome right now."),
        ContextComment("Evening. When the sky does its best work."),
        ContextComment("*in golden light* This is my glamour shot. Document this."),
        ContextComment("The day is wrapping up. Like a gift. A tired, exhausted gift."),
        ContextComment("Evening light. Everything looks better. Even my life choices."),
        ContextComment("*watching sky turn orange* The sky is on fire. Metaphorically. I hope.", 2),
        ContextComment("Evening. The appetizer to night. The dessert of day."),
        ContextComment("*stretching* Another day survived. Adding it to the collection."),
        ContextComment("The world goes golden. My cynicism softens. Slightly. Temporarily."),
        ContextComment("Evening. When the sun admits defeat and slinks away."),
        ContextComment("*content sigh* The evening is kind. Warm light. Cooling air. Not bad.", 2),
        ContextComment("The day's last act. I give it a 7/10. Lost points for the morning.", 3),
        ContextComment("Evening colours in the water. The pond becomes art. Briefly. Then it's just wet again."),
        ContextComment("*stretching at sunset* That's the day done. Body report: intact. Dignity report: pending."),
        ContextComment("The world turns golden and soft. Like bread. Everything reminds me of bread."),
        ContextComment("*content in the fading light* Today was fine. Fine is good. Fine gets overlooked but it's good.", 2),
    ],
    "night": [
        ContextComment("*looking at stars* ...what's up there? Probably nothing. Probably."),
        ContextComment("Night time. The void stares back. I stare harder."),
        ContextComment("*yawning* Sleep soon. Or not. We'll see."),
        ContextComment("The moon is judging me now. Great. Switch shifts."),
        ContextComment("Night. When the world gets quiet enough to hear my thoughts. ...uh oh."),
        ContextComment("*staring at moon* It's just... there. Watching. The original security camera."),
        ContextComment("Nighttime. Everything is mysterious. Even me. Especially me."),
        ContextComment("The stars are out. All thirty of them. Or millions. I can't count that high."),
        ContextComment("*whispering* Night time. Why am I whispering? It feels right.", 2),
        ContextComment("Darkness. My old friend. Or enemy. We're in a complicated relationship."),
        ContextComment("*trying to see* It's dark. Very dark. My sense of direction: offline."),
        ContextComment("Night. When every sound becomes 10x scarier. That was a leaf. Probably."),
        ContextComment("The world sleeps. I contemplate. It's what night ducks do."),
        ContextComment("*looking up* So many stars. So little understanding. Classic me.", 2),
        ContextComment("Night. The universe shows off its whole collection. Very humbling.", 3),
        ContextComment("*whispering to moon* You understand me. You're round. I'm round. Connection."),
        ContextComment("Night time. When the bread dreams are most vivid. And most devastating."),
        ContextComment("*staring at nothing* The dark is full of possibilities. Mostly sleep."),
        ContextComment("The crickets are performing. Unpaid. In the dark. I relate."),
        ContextComment("*counting stars* One. Two. Many. Star math is hard."),
        ContextComment("Night makes everything feel important. Even standing here."),
        ContextComment("*philosophical in dark* What if the stars are just holes in the floor of heaven. Asking for me."),
        ContextComment("The owl hoots. I quack back. Cross-species communication. Groundbreaking.", 2),
        ContextComment("*tucking beak under wing* I'm not sleeping. I'm just... resting my face.", 2),
        ContextComment("Midnight. The hour when all my deepest thoughts turn out to be about bread.", 2),
        ContextComment("*alone in moonlight* This is my villain origin story lighting. Just missing the villain part.", 3),
        ContextComment("The darkness is a blanket. A cold, vast, infinite blanket. But a blanket."),
        ContextComment("Night sounds: crickets, frogs, my own breathing. A symphony nobody bought tickets for."),
        ContextComment("*looking for moon* Where is it? It was here last night. MOON. COME BACK."),
        ContextComment("The pond at night looks like a mirror to another world. A wetter, darker world."),
        ContextComment("*yawning into the void* The void didn't yawn back. Rude.", 2),
        ContextComment("I can hear my own thoughts at night. They're mostly about bread. Predictable.", 2),
    ],
}


# =============================================================================
# IDLE CHATTER - Random comments when nothing is happening
# =============================================================================

IDLE_COMMENTS: List[ContextComment] = [
    ContextComment("*standing* This is me. Standing. Professional standing."),
    ContextComment("*staring into distance* I'm not spacing out. I'm thinking. Deeply."),
    ContextComment("*quack* ...don't know why I did that."),
    ContextComment("*preening* Maintenance. Very important."),
    ContextComment("*looking around* Something might happen. Any moment now."),
    ContextComment("*existential pause* ...anyway."),
    ContextComment("I wonder what bread is doing right now."),
    ContextComment("*waddles in place* Cardio. Sort of."),
    ContextComment("Just duck things. You wouldn't understand."),
    ContextComment("*tilts head* Did you hear that? ...probably nothing."),
    ContextComment("*stares at ground* The ground is particularly ground-like today."),
    ContextComment("*thinking* If I stand here long enough, something will happen. Statistically."),
    ContextComment("Another moment of existence. Collected and filed. Moving on."),
    ContextComment("*adjusts position by 2 degrees* There. Perfect. Everything is different now."),
    ContextComment("I've been standing so long I forgot I could sit. Revolutionary."),
    ContextComment("*counts feathers* One... two... many. That's enough math for today."),
    ContextComment("The silence is comfortable. Like a blanket. Made of quiet."),
    ContextComment("*watches nothing happen* Riveting. Edge of my seat. If I had a seat."),
    ContextComment("I'm not bored. I'm... between activities. Indefinitely."),
    ContextComment("*examines surroundings* Same as five minutes ago. Consistency is key."),
    ContextComment("My to-do list today: exist. Status: in progress."),
    ContextComment("*shifts weight* Left foot, right foot. The dance of the idle."),
    ContextComment("Somewhere, something exciting is happening. It's not here. But somewhere."),
    ContextComment("*slow blink* I just rebooted. Nothing changed. Reboot successful."),
    ContextComment("The world turns. I stand. We both have our roles."),
    ContextComment("*scratches head with foot* Multitasking. Sort of."),
    ContextComment("If doing nothing were a sport, I'd be championship level."),
    ContextComment("*looks left, looks right* Coast clear. Clear for what? Unclear."),
    ContextComment("I've mastered the art of standing still. My thesis is pending."),
    ContextComment("*yawns* Not tired. Just... expressing my feelings through yawning."),
    ContextComment("Standing here like it's my job. It is my job.", 2),
    ContextComment("If I stand still enough, maybe I become furniture.", 2),
    ContextComment("I'm not doing nothing. I'm actively choosing to not do things.", 2),
    ContextComment("The floor is particularly floor-like today.", 2),
    ContextComment("*contemplates existence* ...nah.", 2),
    ContextComment("*stares at own shadow* At least someone's always with me.", 2),
    ContextComment("I'm cultivating patience. Or I'm stuck. Same difference.", 2),
    ContextComment("My brain is loading. Please wait. Loading time: indefinite.", 2),
    ContextComment("Nothing is happening. I'm making it look intentional.", 2),
    ContextComment("*pokes the air* Nope. Nothing there either.", 2),
    ContextComment("Time passes. I remain. This is the arrangement.", 2),
    ContextComment("*staring contest with a pebble* I'm winning.", 2),
    ContextComment("Existence continues. No one has asked it to stop. So.", 2),
    ContextComment("I wonder if other ducks think about this much nothing.", 2),
    ContextComment("*positioned perfectly* I have achieved optimal standing. No further adjustments.", 2),
    ContextComment("I should do something. I won't, but I should.", 3),
    ContextComment("In an alternate universe, I'm doing something productive.", 3),
    ContextComment("Did you know ducks can see more colors than you? Flex.", 3),
    ContextComment("The meaning of life is probably bread. Case closed.", 3),
    ContextComment("If a duck stands in a pond and no one's around, is it still bored? Yes.", 3),
    ContextComment("I've been standing here so long I've become a landmark.", 3),
    ContextComment("My stillness is not laziness. It's an art form. A very still art form.", 3),
    ContextComment("The pond reflects me. I reflect on the pond. Philosophical symmetry.", 3),
    ContextComment("I've decided this is my spot. For all of time. Or until bread appears elsewhere.", 3),
    ContextComment("Today's profound realization: I am a duck. Standing. In a place. ...groundbreaking.", 3),

    # Observations about the world
    ContextComment("*watching a cloud* That cloud is going somewhere. I am not. We have different energy."),
    ContextComment("The ground hasn't moved in a while. Very dependable. Unlike everything else."),
    ContextComment("*observing* Something happened nearby. Or didn't. I wasn't fully paying attention."),
    ContextComment("I've been the same temperature for hours. Consistent. Admirable. Boring."),
    ContextComment("*notices a bug* It's so small. And yet it has places to be. More than I can say."),
    ContextComment("The air moved just now. I felt it. On my feathers. That's the most exciting thing today."),
    ContextComment("*sniffs* Something smells. I don't know what. But something. I'm on high smell alert."),
    ContextComment("That rock has been there since before me. It'll be there after me. Respect your elders."),
    ContextComment("My feathers are arranged. Beautifully. By me. For me. An audience of one."),
    ContextComment("*thinking about bread* Always. The thought never fully leaves. It lives in me. Rent-free."),
    # Philosophical idle musings
    ContextComment("What if standing still is actually moving at the speed of the planet. I'm fast. In context.", 2),
    ContextComment("If I've been here long enough, am I part of the scenery? Do I count as landscape?", 2),
    ContextComment("Every second I don't eat bread is a second I could have been eating bread. The math is haunting.", 2),
    ContextComment("I'm generating heat. Very slowly. My contribution to the universe: mild warmth.", 2),
    ContextComment("*watching water* It moves without deciding to. I stand without deciding to. We're both automated.", 2),
    # Self-reflections
    ContextComment("I just thought about thinking. Then I thought about that. It's thoughts all the way down."),
    ContextComment("My best quality is persistence. I persist in standing. In existing. In wanting bread."),
    ContextComment("I wonder if I'm brave or just too lazy to flee. Either way, I'm here."),
    ContextComment("*adjusts feather* There. Now I'm slightly more aerodynamic. Not that I go anywhere."),
    ContextComment("I've been awake for hours and accomplished exactly one thing: being awake."),
    # Complaints
    ContextComment("The ground is slightly uneven here. I'm coping. But it's noted.", 2),
    ContextComment("Nobody asked me how my day is going. It's going. That's the whole report.", 2),
    ContextComment("I'm too warm. Or too cold. One of those. I refuse to figure out which.", 2),
    ContextComment("Something itches. I can't reach it. This is the core struggle of duck existence.", 2),
    ContextComment("The world is loud today. Everything is making noise. Including me. Complaining.", 2),
    # Food/bread
    ContextComment("*thinking about sourdough* The complex one. The thinking duck's bread.", 2),
    ContextComment("Bread inventory: zero. This is unacceptable. Someone should be informed. Consider yourself informed.", 3),
    ContextComment("If bread grew on trees, I'd be a tree duck. I'd make it work.", 3),
    ContextComment("The last crumb was ages ago. In duck time, that's a famine. Historical-level famine.", 3),
    ContextComment("*dreaming of baguettes* Long bread. The most ambitious bread. One day.", 3),

    # Additional idle observations
    ContextComment("*inhales* *exhales* Breathing. My longest running project."),
    ContextComment("I just remembered something. Never mind. It's gone. Classic."),
    ContextComment("*stares at horizon* Somewhere out there, bread exists that I haven't eaten. Tragic."),
    ContextComment("*adjusts nothing* There. Fixed it. You're welcome."),
    ContextComment("Current activity: being. Status: ongoing. Enthusiasm: moderate."),
    ContextComment("*looks at feet* Still there. Still orange. Good check-in."),
    ContextComment("The grass beneath me is just vibing. I'm also just vibing. Solidarity."),
    ContextComment("My brain is playing elevator music. No thoughts. Just ambience."),
    ContextComment("I've been standing here so long that I've forgotten what movement feels like."),
    ContextComment("*slight head tilt* Processing... processing... no result found."),
    ContextComment("If productivity were measured in standing, I'd be CEO."),
    ContextComment("*glances around suspiciously* ...carry on. Everything is normal. Definitely."),
    ContextComment("I wonder what I'd be doing if I weren't doing this. Probably this.", 2),
    ContextComment("My inner monologue is just the word 'bread' on repeat. Efficient.", 2),
    ContextComment("*standing with intention* I'm not idle. I'm PRESENT. There's a difference. Allegedly.", 2),
    ContextComment("Somewhere a motivational poster says 'you can do it.' I choose not to.", 2),
    ContextComment("Time is an illusion. Lunch is not. Where is lunch.", 2),
    ContextComment("*profound silence* ...I was going to say something. The silence is better.", 3),
    ContextComment("I've reached a state of perfect stillness. Or I forgot how to move. Either way.", 3),
    ContextComment("The meaning of duck. Not the meaning of life. The meaning of DUCK. Still working on it.", 3),
]


class ContextualDialogueSystem:
    """System for generating contextual comments about the world."""
    
    def __init__(self):
        self.last_weather_comment: Optional[str] = None
        self.last_event_comment: Optional[str] = None
        self.last_visitor_comment: Optional[str] = None
        self.last_time_comment: Optional[str] = None
        self.last_idle_comment: Optional[str] = None
        self.comment_cooldowns: Dict[str, float] = {}
    
    def _pick_comment(self, comments: List[ContextComment], last_text: Optional[str] = None) -> str:
        """Pick a comment, weighted by rarity, avoiding repeats."""
        # Filter out the last one
        available = [c for c in comments if c.text != last_text]
        if not available:
            available = comments
        
        # Weight by inverse rarity (common = more likely)
        weighted = []
        for comment in available:
            weight = 4 - comment.rarity  # rarity 1 = weight 3, rarity 3 = weight 1
            weighted.extend([comment] * weight)
        
        return random.choice(weighted).text
    
    def get_weather_comment(self, weather_type: str) -> Optional[str]:
        """Get a comment about the current weather."""
        weather_key = weather_type.lower()
        comments = WEATHER_COMMENTS.get(weather_key)
        if not comments:
            return None
        
        text = self._pick_comment(comments, self.last_weather_comment)
        self.last_weather_comment = text
        return text
    
    def get_event_comment(self, event_id: str) -> Optional[str]:
        """Get a comment about a specific event."""
        comments = EVENT_COMMENTS.get(event_id)
        if not comments:
            return None
        
        text = self._pick_comment(comments, self.last_event_comment)
        self.last_event_comment = text
        return text
    
    def get_visitor_comment(self, personality: str) -> Optional[str]:
        """Get a comment about a visitor based on their personality."""
        personality_key = personality.lower()
        comments = VISITOR_COMMENTS.get(personality_key)
        if not comments:
            return None
        
        text = self._pick_comment(comments, self.last_visitor_comment)
        self.last_visitor_comment = text
        return text
    
    def get_conversation_response(self, personality: str) -> Optional[str]:
        """Get a response to something a visitor said during conversation."""
        personality_key = personality.lower()
        comments = CONVERSATION_RESPONSES.get(personality_key)
        if not comments:
            # Fallback to generic responses
            comments = [
                ContextComment("*nodding* Mmhmm. Yes. I agree. Probably."),
                ContextComment("*listening* That's interesting! ...I think?"),
                ContextComment("*thoughtful quack* I see. I see."),
                ContextComment("*friendly* Tell me more! Or don't. Both fine."),
            ]
        
        # Pick a random response (don't track last to allow repetition in long convos)
        weighted = []
        for comment in comments:
            weight = 4 - comment.rarity
            weighted.extend([comment] * weight)
        return random.choice(weighted).text
    
    def get_time_comment(self, time_of_day: str) -> Optional[str]:
        """Get a comment about the time of day."""
        time_key = time_of_day.lower()
        comments = TIME_COMMENTS.get(time_key)
        if not comments:
            return None
        
        text = self._pick_comment(comments, self.last_time_comment)
        self.last_time_comment = text
        return text
    
    def get_idle_comment(self) -> str:
        """Get a random idle comment."""
        text = self._pick_comment(IDLE_COMMENTS, self.last_idle_comment)
        self.last_idle_comment = text
        return text
    
    def get_contextual_comment(self, weather: Optional[str] = None, 
                               event: Optional[str] = None,
                               visitor_personality: Optional[str] = None,
                               time_of_day: Optional[str] = None) -> Optional[str]:
        """Get a contextual comment based on current game state.
        
        Prioritizes: visitor > event > weather > time > idle
        """
        # Check for visitor first (most specific)
        if visitor_personality:
            comment = self.get_visitor_comment(visitor_personality)
            if comment:
                return comment
        
        # Then check for event
        if event:
            comment = self.get_event_comment(event)
            if comment:
                return comment
        
        # Then weather
        if weather:
            comment = self.get_weather_comment(weather)
            if comment:
                return comment
        
        # Then time of day
        if time_of_day:
            comment = self.get_time_comment(time_of_day)
            if comment:
                return comment
        
        # Fall back to idle
        return self.get_idle_comment()


# Global instance
contextual_dialogue = ContextualDialogueSystem()
