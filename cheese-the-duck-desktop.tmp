#!/bin/bash
# Cheese the Duck - Desktop Launcher with Terminal Detection
GAME_DIR="/opt/cheese-the-duck"
VENV_DIR="$HOME/.local/share/cheese-the-duck/venv"

GAME_COLS=120
GAME_ROWS=45

# Detect and launch with appropriate terminal
if command -v konsole &> /dev/null; then
    konsole -e bash -c "cd '$GAME_DIR' && '$VENV_DIR/bin/python' main.py"
elif command -v gnome-terminal &> /dev/null; then
    gnome-terminal --geometry="${GAME_COLS}x${GAME_ROWS}" -- bash -c "cd '$GAME_DIR' && '$VENV_DIR/bin/python' main.py"
elif command -v xfce4-terminal &> /dev/null; then
    xfce4-terminal --geometry="${GAME_COLS}x${GAME_ROWS}" -e "bash -c 'cd $GAME_DIR && $VENV_DIR/bin/python main.py'"
elif command -v xterm &> /dev/null; then
    xterm -geometry "${GAME_COLS}x${GAME_ROWS}" -e "cd '$GAME_DIR' && '$VENV_DIR/bin/python' main.py"
else
    x-terminal-emulator -e "bash -c 'cd $GAME_DIR && $VENV_DIR/bin/python main.py'"
fi
